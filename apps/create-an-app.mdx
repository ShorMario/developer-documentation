---
title: Create an App
description: "Guide on how to create a Whop App"
---

In this guide, you will learn how to create a Whop App from scratch, using Next.js.

---

<Note>
  If you have not already created an App in the Whop dashboard, please visit
  [**this guide**](apps/getting-started).
</Note>

## Setting up your environment

This page will guide you through creating an App from the group up, we recommend you use one of our templates to get building faster.

```bash
yarn create next-app
```

<Note>
  This guide uses the [**Next.js App Directory**](https://nextjs.org/docs/app),
  but everything you learn can be applied to any Framework
</Note>

---

### Installing the Whop App SDK

<Tip>If you are using one of our templates, you can skip this step.</Tip>

We have created an SDK to make it easier to build apps for Whop. This SDK handles all the authentication, and API requests. To install it, run the following command:

```bash
yarn add @whop-apps/sdk
```

<Note>
  For more information on what the Whop SDK can do, head to [**this
  page**](/apps/sdks).
</Note>

---

### Installing Frosted UI (Optional)

[**Frosted UI**](https://storybook.whop.com) is a UI library created by Whop, it contains all the components used to build [**Whop**](https://whop.com). Although it is not required, we recommend you use it to keep the same look and feel as the rest of the platform.

```bash
yarn add @whop/frosted-ui
```

For more information on how to install Frosted UI, click [**here**](/apps/frosted)

<Tip>
  We recommend using Frosted as it will sync color preferences with the user's
  Whop preference.
</Tip>

---

### Developer Mode

To make it easier to develop you app, we have created **developer mode**. This allows you to run you app locally, displaying real-time updates as you make changes.

<Tip>
  Make sure nothing is running on port `3000` before starting the proxy.
</Tip>

To get started using it, run the following command:

<CodeGroup>

```bash npm
npm run whop-proxy
```

```bash yarn
yarn whop-proxy
```

```bash pnpm
pnpm whope-proxy
```

</CodeGroup>

This will start a proxy server on port `3000`, and will allow you to access your app on `http://localhost:3000`. Head to the [**App Settings**](https://dash.whop.com/settings/developer) and add that into the **Developer Mode** field.

![Developer Mode Guide](https://imgur.com/UnKVb6g.gif)

You can now turn on developer mode on your app, and it will automatically update as you make changes. This toggle will only be shown to your team members, and will not be shown to your users.

![Developer Mode Guide](https://imgur.com/w0MGzD0.gif)

---

### Environment Variables

For the Whop SDK to work, you will need to add the following environment variables to your project:

- `WHOP_API_KEY`: **API key** used to access the Whop API. Get this from the app developer page on the [**Whop Dashboard**](https://dash.whop.com/settings/developer).
- `NEXT_PUBLIC_WHOP_APP_ID`: **APP ID** of the current app. Get this from the app developer page on whop dashboard. Looks like: `app_XXXXXXXX`

<AccordionGroup>

<Accordion title="How to get WHOP_API_KEY" >

Head to the [**Developer Settings Page**](https://dash.whop.com/settings/developer), and click on the applicable app you created. From here, you will see the `API Key` field. You need to click the `Copy` button to copy it to your clipboard.

<Frame>
  <img src="https://imgur.com/SPnZLIL.png" />
</Frame>

</Accordion>

<Accordion title="How to get NEXT_PUBLIC_WHOP_APP_ID" >

Head to the [**Developer Settings Page**](https://dash.whop.com/settings/developer), and click on the applicable app you created. From here, you will see the `App ID`. You need to click the `Copy` button to copy it to your clipboard.

<Frame>
  <img src="https://imgur.com/WhAhvNt.png" />
</Frame>

</Accordion>

</AccordionGroup>

<Note>
  When deploying your app, make sure these **are not hard-coded**. We recommend
  you use `.env.local` and to add it to your `.gitignore` file. This will
  prevent you from accidentally exposing your keys.
</Note>

---

## Setting up your pages

Once you have got the project created and the preresiquites installed, you can start creating your pages.

---

### Page Variables

For the app to know who is accessing it, we have created a system that passes these details through the URL. This allows your app to be used by multiple companies, and multiple experiences. These are passed as a **page prop**, defined dynamically in the URL. For example:

```
https://domain.com/admin/${company_id}/${experience_id}/
```

Here are the variables you can access when the user is accessing your app:

<AccordionGroup>

<Accordion title="Consumer Page" >

Here are the variables you can access when the user is accessing your app after purchasing:

| Variable Name    | Description                                          |
| ---------------- | ---------------------------------------------------- |
| **experienceId** | The ID of the experience the user is accessing.      |
| **productId**    | The ID of the product the user is accessing.         |
| **companyId**    | The ID of the company the experience belongs to.     |
| **membershipId** | The ID of the membership attached to this experience |
| **planId**       | The ID of the plan attached to the membership        |

</Accordion>

<Accordion title="Company Page">

Here are the variables you can access from the dashboard once they have added the app to a product.

| Variable Name    | Description                                      |
| ---------------- | ------------------------------------------------ |
| **experienceId** | The ID of the experience the user is accessing.  |
| **productId**    | The ID of the product the user is accessing.     |
| **companyId**    | The ID of the company the experience belongs to. |

</Accordion>

</AccordionGroup>

This path needs to be set in the **Apps settings**, you can do so [**here**](https://dash.whop.com/settings/developer):

<Frame
  caption="Make sure all variable names are formatted correctly. They should be pre-fixed
  with `$`"
>
  <img src="https://i.imgur.com/TB1Q8ja.png" />
</Frame>

For instance, the file structure based on the earlier example would appear like:

```bash
cool-app/
├─ app/
│  ├─ admin/
│  │  ├─ [companyId]/
│  │  │  ├─ [experienceId]/
│  │  │  │  ├─ page.tsx
```

---

#### Accessing the variables in Next.js

```typescript
export default async function AdminPage({
  params,
}: {
  params: { companyId: string; experienceId: string };
}) {
  const companyId = params.companyId;
  const experienceId = params.experienceId;
}
```

---

### Authenticating a user

To ensure that the user is authenticated, we can add the following line of code:

```typescript
import { headers } from "next/headers";
import { validateToken } from "@whop-apps/sdk";

export default async function AdminPage() {
  await validateToken({ headers });
}
```

This will validate the users token, and throw an error if the token is invalid.

---

## Using our API

To use our API within your app, you can use our SDK. This will handle all the authentication and typed responses.

For more information, visit the [**SDK page**](/apps/sdks#api).

---
